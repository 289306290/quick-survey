<div ng-if="(currentUser || !activeSurvey.require_sign_in) && activeSurvey.active">
  <h1 ng-bind="activeSurvey.name"></h1>
  <div class="description" marked="activeSurvey.description">

  </div>
  <form ng-if="!user.has_submitted" class="survey" name="survey">
  <ul class="survey-question-list">
    <li class="survey-question"
      ng-repeat="question in newResponse.questions"
      survey-question="question">
    </li>
  </ul>
    <button ng-disabled="!survey.$valid"
      class="submit-survey-responses"
      ng-click="submit(newResponse)">Submit</button>
  </form>

  <div ng-if="user.has_submitted" class="has-submitted empty-state">
    Thanks for submitting your thoughts!
  </div>
</div>

<div ng-if="!activeSurvey.active" class="empty-state">
  There is no active survey published yet.
</div>

<div ng-if="!currentUser && activeSurvey.active && activeSurvey.require_sign_in" class="please-sign-in empty-state">
  Sign in or create an account to take the survey.
</div>
